webpackJsonp([1],{"7Otq":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTk2QkI4RkE3NjE2MTFFNUE4NEU4RkIxNjQ5MTYyRDgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTk2QkI4Rjk3NjE2MTFFNUE4NEU4RkIxNjQ5MTYyRDgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjU2QTEyNzk3NjkyMTFFMzkxODk4RDkwQkY4Q0U0NzYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjU2QTEyN0E3NjkyMTFFMzkxODk4RDkwQkY4Q0U0NzYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5WHowqAAAXNElEQVR42uxda4xd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"},"7hND":function(t,e){},DUwb:function(t,e){},FDBl:function(t,e){},GgXi:function(t,e){},J373:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("+RKF"),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var o=a("C7Lr")({name:"App"},r,!1,function(t){a("cFnv")},null,null).exports,i=a("bAj6"),n=a("lC5x"),l=a.n(n),c=a("J0Oq"),d=a.n(c),u={data:function(){return{loginForm:{username:"",password:""},loginRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:10,message:"长度在3到10个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:3,max:10,message:"长度在3到15个字符",trigger:"blur"}]}}},methods:{login:function(){var t,e=this;this.$refs.loginRef.validate((t=d()(l.a.mark(function t(a){var s,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("login",e.loginForm);case 2:if(s=t.sent,r=s.data,console.log(s),200===r.status){t.next=7;break}return t.abrupt("return",e.$message.error(r.message));case 7:console.log("res.data token is "+r.data.token),e.$message.success(r.message),window.sessionStorage.setItem("token",r.data.token),window.sessionStorage.setItem("user_id",r.data.user_id),window.sessionStorage.setItem("role",r.data.role),e.$router.push("/home");case 13:case"end":return t.stop()}},t,e)})),function(e){return t.apply(this,arguments)}))},register:function(){this.$router.push("/register")}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"loginRef",staticClass:"login-container",attrs:{model:t.loginForm,rules:t.loginRules,"label-position":"left","label-width":"0px"}},[a("h3",{staticClass:"login_title"},[t._v("系统登录")]),t._v(" "),a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{placeholder:"账号"},model:{value:t.loginForm.username,callback:function(e){t.$set(t.loginForm,"username",e)},expression:"loginForm.username"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"password",placeholder:"密码"}},[a("el-input",{attrs:{type:"password",placeholder:"密码"},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}})],1),t._v(" "),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.login}},[t._v("登录")])],1),t._v(" "),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.register}},[t._v("注册")])],1)],1)],1)},staticRenderFns:[]};var p=a("C7Lr")(u,m,!1,function(t){a("y7ie")},"data-v-6cc7ae87",null).exports,h={data:function(){return{registerRules:{user_name:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:10,message:"长度在3到10个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:3,max:10,message:"长度在3到15个字符",trigger:"blur"}],role_id:[{required:!0,message:"请选择您的角色",trigger:"change"}]},roles:[{value:"1",label:"打码请求者"},{value:"2",label:"人工打码客户端"}],registerForm:{user_name:"",password:"",mail:"",role_id:""},checked:!0,loading:!1}},methods:{register:function(){var t,e=this;this.loading=!0,this.$refs.registerRef.validate((t=d()(l.a.mark(function t(a){var s,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("register",e.registerForm);case 2:if(s=t.sent,r=s.data,console.log(s),200===r.status){t.next=9;break}return e.$message.error(r.message),e.loading=!1,t.abrupt("return");case 9:e.$message.success(r.message),window.sessionStorage.setItem("token",r.data.token),window.sessionStorage.setItem("user_id",r.data.user_id),window.sessionStorage.setItem("role",r.data.role),e.$router.push("/home");case 14:case"end":return t.stop()}},t,e)})),function(e){return t.apply(this,arguments)}))}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"registerRef",staticClass:"register-container",attrs:{model:t.registerForm,rules:t.registerRules,"label-position":"left","label-width":"0px"}},[a("h3",{staticClass:"register_title"},[t._v("用户注册")]),t._v(" "),a("el-form-item",{attrs:{prop:"user_name"}},[a("el-input",{attrs:{type:"text",placeholder:"账号"},model:{value:t.registerForm.user_name,callback:function(e){t.$set(t.registerForm,"user_name",e)},expression:"registerForm.user_name"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password",placeholder:"密码"},model:{value:t.registerForm.password,callback:function(e){t.$set(t.registerForm,"password",e)},expression:"registerForm.password"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"mail"}},[a("el-input",{attrs:{placeholder:"邮箱"},model:{value:t.registerForm.mail,callback:function(e){t.$set(t.registerForm,"mail",e)},expression:"registerForm.mail"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"role"}},[a("el-select",{attrs:{placeholder:"请选择您的角色"},model:{value:t.registerForm.role_id,callback:function(e){t.$set(t.registerForm,"role_id",e)},expression:"registerForm.role_id"}},t._l(this.roles,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(e){return t.register()}}},[t._v("注册")])],1)],1)},staticRenderFns:[]};var g=a("C7Lr")(h,f,!1,function(t){a("jDVP")},"data-v-3306e0cb",null).exports,b={data:function(){return{menulist:[],menulists:{"人工打码客户端":[{id:1,name:"个人中心",path:"/home",children:[{id:101,name:"基本信息",path:"/user-info",children:[]},{id:102,name:"修改信息",path:"/change-info",children:[]},{id:103,name:"修改密码",path:"/change-password",children:[]}]},{id:2,name:"打码任务",path:"/current-task",children:[]},{id:3,name:"任务统计",path:"/task-statistics",children:[]},{id:4,name:"任务日志",path:"/task-logs",children:[]},{id:5,name:"验证码类型",path:"/categories",children:[]}],"打码请求者":[{id:1,name:"个人中心",path:"/home",children:[{id:101,name:"基本信息",path:"/user-info",children:[]},{id:102,name:"修改信息",path:"/change-info",children:[]},{id:103,name:"修改密码",path:"/change-password",children:[]}]},{id:2,name:"识别流程",path:"/recognition",children:[]},{id:3,name:"任务统计",path:"/task-statistics",children:[]},{id:4,name:"任务日志",path:"/task-logs",children:[]},{id:5,name:"验证码类型",path:"/categories",children:[]}],"管理员":[{id:1,name:"个人中心",path:"/home",children:[{id:101,name:"基本信息",path:"/user-info",children:[]},{id:102,name:"修改信息",path:"/change-info",children:[]},{id:103,name:"修改密码",path:"/change-password",children:[]}]},{id:2,name:"任务管理",path:"/tasks",children:[]},{id:3,name:"用户管理",path:"/users",children:[]},{id:4,name:"日志管理",path:"/logs",children:[]},{id:5,name:"验证码类型管理",path:"/categories",children:[]}]}}},created:function(){this.getMenuList()},methods:{logout:function(){var t=this,e=window.sessionStorage.getItem("user_id");console.log("current user is: "+e),this.$http.get("logout",{params:{user_id:parseInt(e)}}).then(function(e){var a=e.data;console.log(a),"200"==a.status?(t.$message.success(a.message),window.sessionStorage.clear(),console.log("logout "+window.sessionStorage.getItem("token")),t.$router.push("login")):t.$message.error(a.message)})},getMenuList:function(){var t=window.sessionStorage.getItem("role");this.menulist=this.menulists[t],console.log(this.menulist)}}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-header",[a("div",[a("span",[t._v("CaptchaBreaker")])]),t._v(" "),a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.logout()}}},[t._v("退出登录")])],1),t._v(" "),a("el-container",[a("el-aside",{attrs:{width:"200px"}},[a("el-menu",{attrs:{router:"","unique-opened":""}},t._l(t.menulist,function(e){return a("div",{key:e.id},[0!=e.children.length?a("div",[a("el-submenu",{attrs:{index:e.path}},[a("template",{slot:"title"},[a("span",[t._v(t._s(e.name))])]),t._v(" "),t._l(e.children,function(e){return a("el-menu-item",{key:e.id,attrs:{index:e.path}},[a("template",{slot:"title"},[a("span",[t._v(t._s(e.name))])])],2)})],2)],1):a("div",[a("el-menu-item",{attrs:{index:e.path}},[a("template",{slot:"title"},[a("span",[t._v(t._s(e.name))])])],2)],1)])}),0)],1),t._v(" "),a("el-main",[a("router-view")],1)],1)],1)},staticRenderFns:[]};var _=a("C7Lr")(b,v,!1,function(t){a("FDBl")},"data-v-5f4647bf",null).exports,k={created:function(){this.get_user_info()},data:function(){return{user_info:{username:"",role:"",mail:"",token:"",mark:""}}},methods:{get_user_info:function(){var t=this,e="users/"+window.sessionStorage.getItem("user_id");this.$http.get(e,{query:{}}).then(function(e){t.user_info=e.data})}}},w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[t._v("首页")]),t._v(" "),a("el-breadcrumb-item",[t._v("基本信息")])],1),t._v(" "),a("el-card",{staticClass:"box-card"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple-dark"},[a("h2",[t._v("用户名")])])])],1),t._v(" "),a("el-row",{staticClass:"row-content"},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple-dark"},[t._v(t._s(t.user_info.user_name))])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple-dark"},[a("h2",[t._v("角色")])])])],1),t._v(" "),a("el-row",{staticClass:"row-content"},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple-dark"},[t._v(t._s(t.user_info.role))])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple-dark"},[a("h2",[t._v("邮箱")])])])],1),t._v(" "),a("el-row",{staticClass:"row-content"},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple-dark"},[t._v(t._s(t.user_info.mail))])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple-dark"},[a("h2",[t._v("Token")])])])],1),t._v(" "),a("el-row",{staticClass:"row-content"},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple-dark"},[t._v(t._s(t.user_info.token))])])],1),t._v(" "),"人工打码客户端"==t.user_info.role?a("div",[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple-dark"},[a("h2",[t._v("累计得分")])])])],1),t._v(" "),a("el-row",{staticClass:"row-content"},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple-dark"},[t._v(t._s(t.user_info.mark))])])],1)],1):t._e()],1)],1)},staticRenderFns:[]};var y=a("C7Lr")(k,w,!1,function(t){a("O6Sv")},"data-v-7e49b654",null).exports,x={name:"test",data:function(){return{user_id:"",captcha_src:"",websock:null}},created:function(){this.user_id=window.sessionStorage.getItem("user_id"),this.initWebSocket()},destroyed:function(){this.websock.close(),console.log("leaving websocket...")},methods:{initWebSocket:function(){var t="ws://localhost:80/socket/"+this.user_id;this.websock=new WebSocket(t),this.websock.onerror=this.websocketonerror,this.websock.onopen=this.websocketonopen,this.websock.onclose=this.websocketclose,this.websock.onmessage=this.websocketonmessage},websocketonopen:function(){console.log("Established socket connection!")},websocketonerror:function(){console.log("Error in establishing connect to socket server, try to reconnect..."),this.initWebSocket()},websocketonmessage:function(t){console.log("image receive"),console.log(t);var e=t.data;this.captcha_src="http://localhost:80/image/"+e,console.log("Received image from server! "+e)},websocketclose:function(t){console.log("Disconnect from socket!",t)},sendMessage:function(){"undefined"==typeof WebSocket?console.log("您的浏览器不支持WebSocket"):(console.log("您的浏览器支持WebSocket"),socket.send('{"toUserId":"'+$("#toUserId").val()+'","contentText":"'+$("#contentText").val()+'"}'))}}},C={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"test"},[e("img",{attrs:{src:this.captcha_src}})])},staticRenderFns:[]};var D=a("C7Lr")(x,C,!1,function(t){a("smnA")},"data-v-6e276274",null).exports,I={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-breadcrumb",{attrs:{separator:"/"}},[e("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[this._v("首页")]),this._v(" "),e("el-breadcrumb-item",[this._v("修改密码")])],1),this._v(" "),e("el-card",{staticClass:"box-card"})],1)},staticRenderFns:[]};var R=a("C7Lr")({data:function(){return{}},methods:{}},I,!1,function(t){a("kv1D")},"data-v-433cf4fe",null).exports,S={created:function(){this.getCategories(),this.role=window.sessionStorage.getItem("role")},data:function(){return{role:"",tableData:[],addCateVisible:!1,addCateForm:{category_id:-1,code:"",name:"",details:""},addCateRules:{code:[{required:!0,message:"请输入验证码类型代码",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],name:[{required:!0,message:"请输入验证码类型名称",trigger:"blur"},{min:3,max:8,message:"长度在 3 到 8 个字符",trigger:"blur"}],details:[{required:!0,message:"请输入验证码类型描述",trigger:"blur"}]}}},methods:{addCategory:function(){var t,e=this;this.$refs.addCateRef.validate((t=d()(l.a.mark(function t(a){var s,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=a){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$http.post("categories",e.addCateForm);case 4:s=t.sent,r=s.data,console.log(r),200!=r.status?e.$message.error(r.message):e.$message.success(r.message),e.addCateVisible=!1;case 9:case"end":return t.stop()}},t,e)})),function(e){return t.apply(this,arguments)}))},getCategories:function(){var t=this;this.$http.get("categories").then(function(e){console.log(e),t.tableData=e.data.data,console.log(t.tableData)})}}},E={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[t._v("首页")]),t._v(" "),a("el-breadcrumb-item",[t._v("验证码类型")])],1),t._v(" "),a("el-card",{staticClass:"box-card"},["管理员"===this.role?a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addCateVisible=!0}}},[t._v("添加类别")])],1)],1):t._e(),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[a("el-table-column",{attrs:{type:"index",width:"70"}}),t._v(" "),a("el-table-column",{attrs:{prop:"code",label:"类型代码",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"details",label:"详情",width:"280"}})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"添加验证码类型",visible:t.addCateVisible,width:"40%"},on:{"update:visible":function(e){t.addCateVisible=e}}},[a("span",[a("el-form",{ref:"addCateRef",staticClass:"addCate-container",attrs:{model:t.addCateForm,rules:t.addCateRules,"label-position":"left","label-width":"0px"}},[a("el-form-item",{attrs:{prop:"code"}},[a("el-input",{attrs:{placeholder:"类型代码"},model:{value:t.addCateForm.code,callback:function(e){t.$set(t.addCateForm,"code",e)},expression:"addCateForm.code"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"name"}},[a("el-input",{attrs:{placeholder:"类型名称"},model:{value:t.addCateForm.name,callback:function(e){t.$set(t.addCateForm,"name",e)},expression:"addCateForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"details"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"类型描述"},model:{value:t.addCateForm.details,callback:function(e){t.$set(t.addCateForm,"details",e)},expression:"addCateForm.details"}})],1)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addCateVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.addCategory}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var F=a("C7Lr")(S,E,!1,function(t){a("7hND")},"data-v-3f6fb0cb",null).exports,W={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-breadcrumb",{attrs:{separator:"/"}},[e("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[this._v("首页")]),this._v(" "),e("el-breadcrumb-item",[this._v("基本信息")])],1),this._v(" "),e("el-card",{staticClass:"box-card"})],1)},staticRenderFns:[]};var N=a("C7Lr")({data:function(){return{}}},W,!1,function(t){a("DUwb")},"data-v-15dd489e",null).exports,V={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-breadcrumb",{attrs:{separator:"/"}},[e("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[this._v("首页")]),this._v(" "),e("el-breadcrumb-item",[this._v("基本信息")])],1),this._v(" "),e("el-card",{staticClass:"box-card"})],1)},staticRenderFns:[]};var B=a("C7Lr")({data:function(){return{}}},V,!1,function(t){a("z3Gs")},"data-v-58b13542",null).exports,U={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-breadcrumb",{attrs:{separator:"/"}},[e("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[this._v("首页")]),this._v(" "),e("el-breadcrumb-item",[this._v("基本信息")])],1),this._v(" "),e("el-card",{staticClass:"box-card"})],1)},staticRenderFns:[]};var G=a("C7Lr")({data:function(){return{}}},U,!1,function(t){a("ZFKc")},"data-v-2676d1ab",null).exports,Z={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-breadcrumb",{attrs:{separator:"/"}},[e("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[this._v("首页")]),this._v(" "),e("el-breadcrumb-item",[this._v("开发者文档")])],1),this._v(" "),e("el-card",{staticClass:"box-card"})],1)},staticRenderFns:[]};var Q=a("C7Lr")({data:function(){return{}}},Z,!1,function(t){a("lg5p")},"data-v-893eef4a",null).exports,z=a("I29D"),M=a.n(z),A={created:function(){this.src_type="0"},data:function(){return{labelPosition:"right",formData:{user_id:window.sessionStorage.getItem("user_id"),code:"",bypass_client:"",bypass_result:"",curr_acc:"",speed:"",score:"",src_type:"0",data:"",job_id:"-1"},accepted:!1,recognising:!1,recog_disabled:!1,recogButton:"开始识别",show:!0,count:"",timer:null,posterUrl:"",imgUrls:[],options:[{value:"选项1",label:"6字符数字+小写字母"},{value:"选项2",label:"Image-based 拖拽"},{value:"选项3",label:"Image-based 点选"}],value:"",loading:"0"}},methods:{showInfo:function(t){this.$alert(t,{confirmButtonText:"确定",callback:function(t){}})},uploadImage:function(t){var e=this;console.log(t);var a=new FormData;a.append("upload",t.file),a.append("user_id",window.sessionStorage.getItem("user_id"));this.uploadPoster("image/upload",a,{headers:{"Content-Type":"multipart/form-data"}}).then(function(a){console.log(a);var s=a.data;"200"===s.status&&(t.onSuccess(),console.log("filename "+s.fileName),window.sessionStorage.setItem("captcha_src",s.fileName),e.formData.data=s.fileName,e.$message.success(s.message))}).catch(function(a){t.onError(),e.$message.error("上传失败")})},removeImage:function(t,e){console.log(e),this.formData.bypass_result="",this.formData.data="",this.initForm()},initForm:function(){this.formData.data="",this.recogButton="开始识别",this.formData.curr_acc="",this.formData.speed="",this.formData.bypass_result="",this.formData.bypass_client="",this.formData.code="",this.formData.score="",this.job_id="-1",this.accepted=!1,this.recog_disabled=!1,this.$refs["img-upload"].clearFiles()},uploadPoster:function(t,e,a){return this.$http.post(t,e,a)},recognise:function(){var t=this;if("重新识别"===this.recogButton)return this.initForm();console.log("begin to recognise"),console.log(this.formData),this.recog_disabled=!0,this.loading="1",console.log("当前src_type是："+this.src_type),this.$http.post("recognition",this.formData).then(function(e){var a=e.data;if("200"!=a.status)return"501"==a.status?(t.showInfo(a.message),void t.$http.get("response",{params:{job_id:a.job_id,response_code:"0"}}).then(function(t){})):(t.recog_disabled=!1,t.showInfo(a.message));t.formData.bypass_result=a.bypass_result,t.formData.bypass_client=a.client,t.formData.code=a.class,t.formData.job_id=a.job_id,t.$message.success(a.message),t.accepted=!0}),this.loading="0"},changeSrcType:function(t,e){this.formData.src_type=t.index,this.initForm()},right:function(){var t=this;this.$http.get("response",{params:{job_id:this.formData.job_id,response_code:"1"}}).then(function(e){var a=e.data;console.log(a),"200"!=a.status?t.$message.error(a.message):(t.formData.curr_acc=a.curr_acc,t.formData.speed=a.speed,t.formData.score=a.mark,t.$message.success(a.message))}),this.accepted=!1,this.recog_disabled=!1,this.recogButton="重新识别"},fault:function(){var t=this;this.$http.get("response",{params:{job_id:this.formData.job_id,response_code:"0"}}).then(function(e){var a=e.data;console.log(a),"200"!=a.status?t.$message.error(a.message):(t.formData.curr_acc=a.curr_acc,t.formData.speed=a.speed,t.formData.score=a.mark,t.$message.success(a.message))}),this.accepted=!1,this.recog_disabled=!1,this.recogButton="重新识别"}}},P={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[t._v("首页")]),t._v(" "),a("el-breadcrumb-item",[t._v("发起打码任务")])],1),t._v(" "),a("el-tabs",{staticClass:"box-card",attrs:{type:"border-card"},on:{"tab-click":t.changeSrcType}},[a("el-tab-pane",{attrs:{label:"图片"}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:"1"===t.loading,expression:"loading === '1'"}],attrs:{"label-position":t.labelPosition,"label-width":"100px",model:t.formData}},[a("el-form-item",{attrs:{label:"上传图片"}},[a("el-upload",{ref:"img-upload",attrs:{align:"left",action:t.posterUrl,limit:1,"http-request":function(e){return t.uploadImage(e)},"on-remove":function(e,a){return t.removeImage(e,a)},"list-type":"picture",accept:"image/*"}},[a("el-button",[t._v("选择图片"),a("i",{staticClass:"el-icon-upload el-icon--right"})])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"验证码类型"}},[a("el-input",{attrs:{type:"text"},model:{value:t.formData.code,callback:function(e){t.$set(t.formData,"code",e)},expression:"formData.code"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"打码客户端"}},[a("el-input",{attrs:{type:"text"},model:{value:t.formData.bypass_client,callback:function(e){t.$set(t.formData,"bypass_client",e)},expression:"formData.bypass_client"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"识别结果"}},[a("el-input",{attrs:{type:"text"},model:{value:t.formData.bypass_result,callback:function(e){t.$set(t.formData,"bypass_result",e)},expression:"formData.bypass_result"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"识别率"}},[a("el-input",{attrs:{type:"text"},model:{value:t.formData.curr_acc,callback:function(e){t.$set(t.formData,"curr_acc",e)},expression:"formData.curr_acc"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"耗时"}},[a("el-input",{attrs:{type:"text",spellcheck:"false"},model:{value:t.formData.speed,callback:function(e){t.$set(t.formData,"speed",e)},expression:"formData.speed"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"分数"}},[a("el-input",{attrs:{type:"text"},model:{value:t.formData.score,callback:function(e){t.$set(t.formData,"score",e)},expression:"formData.score"}})],1),t._v(" "),a("el-form-item",{attrs:{align:"left"}},[a("el-button",{attrs:{type:"primary",disabled:t.recog_disabled},on:{click:t.recognise}},[t._v("\n            "+t._s(this.recogButton)+"\n            "),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}],staticClass:"count"},[t._v("("+t._s(t.count)+"s)")])]),t._v(" "),t.accepted?a("el-button",{attrs:{type:"primary"},on:{click:t.right}},[a("i",{staticClass:"el-icon-check"})]):t._e(),t._v(" "),t.accepted?a("el-button",{attrs:{type:"danger"},on:{click:t.fault}},[a("i",{staticClass:"el-icon-close"})]):t._e()],1)],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"Base64"}},[a("el-form",{attrs:{"label-position":t.labelPosition,"label-width":"100px",model:t.formData}},[a("el-form-item",{attrs:{label:"Base64编码"}},[a("el-input",{attrs:{type:"textarea",rows:6,spellcheck:"false"},model:{value:t.formData.data,callback:function(e){t.$set(t.formData,"data",e)},expression:"formData.data"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"验证码类型"}},[a("el-input",{attrs:{type:"text"},model:{value:t.formData.code,callback:function(e){t.$set(t.formData,"code",e)},expression:"formData.code"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"打码客户端"}},[a("el-input",{attrs:{type:"text"},model:{value:t.formData.bypass_client,callback:function(e){t.$set(t.formData,"bypass_client",e)},expression:"formData.bypass_client"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"识别结果"}},[a("el-input",{attrs:{type:"text"},model:{value:t.formData.bypass_result,callback:function(e){t.$set(t.formData,"bypass_result",e)},expression:"formData.bypass_result"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"识别率"}},[a("el-input",{attrs:{type:"text"},model:{value:t.formData.curr_acc,callback:function(e){t.$set(t.formData,"curr_acc",e)},expression:"formData.curr_acc"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"耗时"}},[a("el-input",{attrs:{type:"text"},model:{value:t.formData.speed,callback:function(e){t.$set(t.formData,"speed",e)},expression:"formData.speed"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"分数"}},[a("el-input",{attrs:{type:"text"},model:{value:t.formData.score,callback:function(e){t.$set(t.formData,"score",e)},expression:"formData.score"}})],1),t._v(" "),a("el-form-item",{attrs:{align:"left"}},[a("el-button",{attrs:{type:"primary",disabled:t.recog_disabled},on:{click:t.recognise}},[t._v("\n            "+t._s(this.recogButton)+"\n            "),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}],staticClass:"count"},[t._v("("+t._s(t.count)+"s)")])]),t._v(" "),t.accepted?a("el-button",{attrs:{type:"primary"},on:{click:t.right}},[a("i",{staticClass:"el-icon-check"})]):t._e(),t._v(" "),t.accepted?a("el-button",{attrs:{type:"danger"},on:{click:t.fault}},[a("i",{staticClass:"el-icon-close"})]):t._e()],1)],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"图片URL"}},[a("el-form",{attrs:{"label-position":t.labelPosition,"label-width":"100px",model:t.formData}},[a("el-form-item",{attrs:{label:"URL 地址"}},[a("el-input",{attrs:{placeholder:"Http://",spellcheck:"false"},model:{value:t.formData.data,callback:function(e){t.$set(t.formData,"data",e)},expression:"formData.data"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"验证码类型"}},[a("el-input",{attrs:{type:"text"},model:{value:t.formData.code,callback:function(e){t.$set(t.formData,"code",e)},expression:"formData.code"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"打码客户端"}},[a("el-input",{attrs:{type:"text"},model:{value:t.formData.bypass_client,callback:function(e){t.$set(t.formData,"bypass_client",e)},expression:"formData.bypass_client"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"识别结果"}},[a("el-input",{attrs:{type:"text"},model:{value:t.formData.bypass_result,callback:function(e){t.$set(t.formData,"bypass_result",e)},expression:"formData.bypass_result"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"识别率"}},[a("el-input",{attrs:{type:"text"},model:{value:t.formData.curr_acc,callback:function(e){t.$set(t.formData,"curr_acc",e)},expression:"formData.curr_acc"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"耗时"}},[a("el-input",{attrs:{type:"text"},model:{value:t.formData.speed,callback:function(e){t.$set(t.formData,"speed",e)},expression:"formData.speed"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"分数"}},[a("el-input",{attrs:{type:"text"},model:{value:t.formData.score,callback:function(e){t.$set(t.formData,"score",e)},expression:"formData.score"}})],1),t._v(" "),a("el-form-item",{attrs:{align:"left"}},[a("el-button",{attrs:{type:"primary",disabled:t.recog_disabled},on:{click:t.recognise}},[t._v("\n            "+t._s(this.recogButton)+"\n            "),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}],staticClass:"count"},[t._v("("+t._s(t.count)+"s)")])]),t._v(" "),t.accepted?a("el-button",{attrs:{type:"primary"},on:{click:t.right}},[a("i",{staticClass:"el-icon-check"})]):t._e(),t._v(" "),t.accepted?a("el-button",{attrs:{type:"danger"},on:{click:t.fault}},[a("i",{staticClass:"el-icon-close"})]):t._e()],1)],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"验证码链接"}},[a("el-form",{attrs:{"label-position":t.labelPosition,"label-width":"100px",model:t.formData,spellcheck:"false"}},[a("el-form-item",{attrs:{label:"链接地址"}},[a("el-input",{attrs:{placeholder:"Http://"},model:{value:t.formData.data,callback:function(e){t.$set(t.formData,"data",e)},expression:"formData.data"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"验证码类型"}},[a("el-input",{attrs:{type:"text"},model:{value:t.formData.code,callback:function(e){t.$set(t.formData,"code",e)},expression:"formData.code"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"打码客户端"}},[a("el-input",{attrs:{type:"text"},model:{value:t.formData.bypass_client,callback:function(e){t.$set(t.formData,"bypass_client",e)},expression:"formData.bypass_client"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"识别结果"}},[a("el-input",{attrs:{type:"text"},model:{value:t.formData.bypass_result,callback:function(e){t.$set(t.formData,"bypass_result",e)},expression:"formData.bypass_result"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"识别率"}},[a("el-input",{attrs:{type:"text"},model:{value:t.formData.curr_acc,callback:function(e){t.$set(t.formData,"curr_acc",e)},expression:"formData.curr_acc"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"耗时"}},[a("el-input",{attrs:{type:"text"},model:{value:t.formData.speed,callback:function(e){t.$set(t.formData,"speed",e)},expression:"formData.speed"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"分数"}},[a("el-input",{attrs:{type:"text"},model:{value:t.formData.score,callback:function(e){t.$set(t.formData,"score",e)},expression:"formData.score"}})],1),t._v(" "),a("el-form-item",{attrs:{align:"left"}},[a("el-button",{attrs:{type:"primary",disabled:t.recog_disabled},on:{click:t.recognise}},[t._v("\n            "+t._s(this.recogButton)+"\n            "),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}],staticClass:"count"},[t._v("("+t._s(t.count)+"s)")])]),t._v(" "),t.accepted?a("el-button",{attrs:{type:"primary"},on:{click:t.right}},[a("i",{staticClass:"el-icon-check"})]):t._e(),t._v(" "),t.accepted?a("el-button",{attrs:{type:"danger"},on:{click:t.fault}},[a("i",{staticClass:"el-icon-close"})]):t._e()],1)],1)],1)],1)],1)},staticRenderFns:[]};var Y=a("C7Lr")(A,P,!1,function(t){a("yspi")},"data-v-356dd497",null).exports,J=0,T={mounted:function(){},updated:function(){var t=this;"0"===t.loading&&!1===t.fromIframe&&(document.getElementById("captcha").onclick=function(e){var a=(e=e||window.event).offsetX||e.layerX,s=e.offsetY||e.layerY;console.log(a),t.createMarker(a,s,"captcha");var r=a+","+s+"   ";console.log(r),t.bypass_res=t.bypass_res+r,console.log(t.bypass_res)})},created:function(){this.captcha_src=a("XoCV"),this.user_id=window.sessionStorage.getItem("user_id"),this.initWebSocket()},destroyed:function(){this.websock.close(),console.log("leaving websocket...")},data:function(){return{user_id:"",captcha_src:"",src_type:"",cautionMsg:"",fromIframe:!1,websock:null,bypass_res:"",loading:"1",TIME_COUNT:60,show:!0,count:"",timer:null,dialogVisible:!1,cautionVisible:!1,widthData:"",heightData:"",ci_posi:"relative"}},methods:{createMarker:function(t,e,a){var s=document.createElement("div");s.className="marker",s.innerText=++J,s.style.textAlign="center",s.style.color="#ffffff",s.style.width="24px",s.style.height="24px",s.style.left=t-12+"px",s.style.top=e-12+"px",s.style.borderRadius="35px",s.style.position="absolute",s.style.zIndex=20,s.style.background="#FF66FF",document.getElementById(a).appendChild(s),console.log("create marker")},initWebSocket:function(){var t="ws://10.10.11.161:80/socket/"+this.user_id;this.websock=new WebSocket(t),this.websock.onerror=this.websocketonerror,this.websock.onopen=this.websocketonopen,this.websock.onclose=this.websocketclose,this.websock.onmessage=this.websocketonmessage},websocketonopen:function(){console.log("Established socket connection!")},websocketonerror:function(){console.log("Error in establishing connect to socket server, try to reconnect..."),this.initWebSocket()},websocketonmessage:function(t){this.clearMarkers(),this.startTimer();var e=t.data,a=JSON.parse(e);console.log(a),"0"===a.src_type?(console.log("uploaded image"),this.captcha_src="http://10.10.11.161:80/image/"+a.show_data):(console.log("captcha from url"),this.captcha_src=a.show_data+"&a="+Math.random(),console.log("New img_src: "+this.captcha_src),"3"===a.src_type&&(this.fromIframe=!0,console.log("fromeIframe : "+this.fromIframe))),this.src_type=a.src_type,this.loading="0",console.log("Received image from server! "+a)},websocketclose:function(t){console.log("Disconnect from socket!",t),this.closeTimer()},sendMessage:function(t){"undefined"==typeof WebSocket?console.log("您的浏览器不支持WebSocket"):(console.log("您的浏览器支持WebSocket"),console.log("send msg: "+t),this.websock.send(t))},clearMarkers:function(){var t=document.querySelectorAll(".marker"),e=document.getElementById("captcha");console.log(e);for(var a=0;a<t.length;a++)e.removeChild(t[a]);console.log(e),this.bypass_res="",J=0,console.log(t)},reset:function(){this.clearMarkers()},submmit:function(){if("3"===this.src_type&&(this.bypass_res="完成打码"),""===this.bypass_res)return this.cautionVisible=!0,this.cautionMsg="打码结果内容为空，提交则判定为打码失败，确定提交？";this.sendMessage(this.bypass_res),this.captcha_src=a("XoCV"),this.closeTimer(),this.clearMarkers(),this.loading="1",this.fromIframe=!1,console.log("submit, now bypass "+this.bypass_res)},giveUp:function(){this.bypass_res="giveup",this.submmit(),this.fromIframe=!1},startTimer:function(){var t=this;this.timer||(this.count=this.TIME_COUNT,this.show=!1,this.timer=setInterval(function(){t.count>0&&t.count<=t.TIME_COUNT?t.count--:(t.bypass_res="timeout",t.submmit(),t.dialogVisible=!0)},1e3))},initTimer:function(){this.show=!0,this.timer=null,this.count=""},closeTimer:function(){clearInterval(this.timer),this.initTimer()},timeout:function(){this.dialogVisible=!1,this.fromIframe=!1},cancel:function(){this.cautionVisible=!1},leave:function(){this.giveUp(),this.cautionVisible=!1},getStyle:function(t){var e=t.target.width,a=t.target.height;this.widthData=e+"px",this.heightData=a+"px",console.log("width and height are "+e+","+a)}}},L={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[t._v("首页")]),t._v(" "),a("el-breadcrumb-item",[t._v("打码任务")])],1),t._v(" "),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"captcha-region"},["1"===this.loading?a("b",[t._v("正在实时接收打码任务...")]):t._e(),t._v(" "),a("div",{staticClass:"captcha-img"},[t.fromIframe?a("div",{staticClass:"captcha_iframe"},[a("iframe",{attrs:{src:t.captcha_src,height:"100%",width:"100%"}})]):a("div",{staticClass:"img",style:{position:t.ci_posi,width:t.widthData,height:t.heightData},attrs:{id:"captcha"}},[a("img",{attrs:{src:t.captcha_src},on:{load:t.getStyle}})])]),t._v(" "),t.fromIframe?t._e():a("div",{staticClass:"captcha-res"},["0"===this.loading?a("el-input",{attrs:{placeholder:"打码结果"},model:{value:t.bypass_res,callback:function(e){t.bypass_res=e},expression:"bypass_res"}}):t._e()],1),t._v(" "),"0"===this.loading?a("div",{staticClass:"captcha-button",attrs:{align:"center"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.submmit}},[t._v("\n          提交\n          "),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}],staticClass:"count"},[t._v("("+t._s(this.count)+"s)")])]),t._v(" "),t.fromIframe?t._e():a("el-button",{attrs:{type:"info"},on:{click:t.reset}},[t._v("重置")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.giveUp}},[t._v("放弃")])],1):t._e()]),t._v(" "),a("el-dialog",{attrs:{title:"打码超时",visible:this.dialogVisible,width:"30%"},on:{"update:visible":function(e){return t.$set(this,"dialogVisible",e)}}},[a("span",[t._v("您已超时，系统认定此次打码任务失败！")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.timeout}},[t._v("确 定")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"警告",visible:this.cautionVisible,width:"30%"},on:{"update:visible":function(e){return t.$set(this,"cautionVisible",e)}}},[a("span",[t._v(t._s(t.cautionMsg))]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.leave}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.cancel}},[t._v("取 消")])],1)])],1)],1)},staticRenderFns:[]};var O=a("C7Lr")(T,L,!1,function(t){a("eGrk")},"data-v-61f522e6",null).exports,X={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-breadcrumb",{attrs:{separator:"/"}},[e("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[this._v("首页")]),this._v(" "),e("el-breadcrumb-item",[this._v("任务日志")])],1),this._v(" "),e("el-card",{staticClass:"box-card"})],1)},staticRenderFns:[]};var K=a("C7Lr")({data:function(){return{}}},X,!1,function(t){a("t86D")},"data-v-9821d8c2",null).exports,j={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-breadcrumb",{attrs:{separator:"/"}},[e("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[this._v("首页")]),this._v(" "),e("el-breadcrumb-item",[this._v("任务统计")])],1),this._v(" "),e("el-card",{staticClass:"box-card"})],1)},staticRenderFns:[]};var H=a("C7Lr")({created:function(){},data:function(){return{}}},j,!1,function(t){a("XKDW")},"data-v-04d4149a",null).exports,q={data:function(){return{widthData:"",heightData:"",src:""}},methods:{getStyle:function(t){var e=t.target.width,a=t.target.height;this.widthData=e+"px",this.heightData=a+"px",console.log("width and height are "+e+","+a)}}},tt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"act-form",style:{width:this.widthData,height:this.heightData}},[e("img",{attrs:{src:a("7Otq")},on:{load:this.getStyle}})])},staticRenderFns:[]};var et=a("C7Lr")(q,tt,!1,function(t){a("GgXi")},"data-v-66f726ac",null).exports;s.default.use(i.a);var at=new i.a({routes:[{path:"/",redirect:"login"},{path:"/login",name:"login",component:p},{path:"/register",component:g},{path:"/home",component:_,children:[{path:"/user-info",component:y},{path:"/change-info",component:D},{path:"/change-password",component:R},{path:"/categories",component:F},{path:"/users",component:G},{path:"/logs",component:B},{path:"/tasks",component:N},{path:"/task-statistics",component:H},{path:"/task-logs",component:K},{path:"/current-task",component:O},{path:"/developer",component:Q},{path:"/recognition",component:Y}]},{path:"/test",component:et}]});at.beforeEach(function(t,e,a){var s=window.sessionStorage.getItem("token");if(console.log("current token is "+s),console.log("to is :"+t),console.log("path "+t.path),"/current-task"===e.path){if(console.log("Leaving from /current-task"),!confirm("离开则判定当前任务失败，是否继续？"))return;a()}"/login"===t.path||"/register"===t.path||"/test"===t.path?a():"null"===s||""===s||null===s?(console.log("no token, return to login "),a("/login")):(console.log("use token"+s+", go ahead"),a())});var st=at,rt=(a("J373"),a("gU9C")),ot=a.n(rt);a("b6Kr");s.default.config.productionTip=!1,s.default.prototype.$Message=rt.Message,M.a.defaults.baseURL="http://10.10.11.161:80/",M.a.interceptors.request.use(function(t){return console.log(t),t.headers.token=window.sessionStorage.getItem("token"),t}),s.default.prototype.$http=M.a,s.default.use(ot.a),new s.default({el:"#app",router:st,components:{App:o},template:"<App/>"})},O6Sv:function(t,e){},XKDW:function(t,e){},XoCV:function(t,e,a){t.exports=a.p+"static/img/loading.69a70c7.gif"},ZFKc:function(t,e){},b6Kr:function(t,e){},cFnv:function(t,e){},eGrk:function(t,e){},jDVP:function(t,e){},kv1D:function(t,e){},lg5p:function(t,e){},smnA:function(t,e){},t86D:function(t,e){},y7ie:function(t,e){},yspi:function(t,e){},z3Gs:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.6b9ffbc83e2ecaa1efb6.js.map